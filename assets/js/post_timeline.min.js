!function(t){"use strict";t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/cj-post_timeline.default",function(e){function n(t){this.element=t,this.blocks=this.element.getElementsByClassName("cj-post-timeline__block"),this.images=this.element.getElementsByClassName("cj-post-timeline__img"),this.contents=this.element.getElementsByClassName("cj-post-timeline__content"),this.offset=.8,this.hideBlocks()}n.prototype.hideBlocks=function(){if(!(!1 in document.documentElement))for(var t=this,e=0;e<this.blocks.length;e++)!function(e){t.blocks[e].getBoundingClientRect().top>window.innerHeight*t.offset&&(t.images[e].classList.add("cj-post-timeline__img--hidden"),t.contents[e].classList.add("cj-post-timeline__content--hidden"))}(e)},n.prototype.showBlocks=function(){if(!(!1 in document.documentElement))for(var t=this,e=0;e<this.blocks.length;e++)!function(e){t.contents[e].classList.contains("cj-post-timeline__content--hidden")&&t.blocks[e].getBoundingClientRect().top<=window.innerHeight*t.offset&&(t.images[e].classList.add("cj-post-timeline__img--bounce-in"),t.contents[e].classList.add("cj-post-timeline__content--bounce-in"),t.images[e].classList.remove("cj-post-timeline__img--hidden"),t.contents[e].classList.remove("cj-post-timeline__content--hidden"))}(e)};var i=document.getElementsByClassName("cj-post-timeline"),o=[],s=!1;if(i.length>0){for(var m=0;m<i.length;m++)!function(t){o.push(new n(i[t]))}(m);window.addEventListener("scroll",function(t){s||(s=!0,window.requestAnimationFrame?window.requestAnimationFrame(a):setTimeout(a,250))})}function a(){o.forEach(function(t){t.showBlocks()}),s=!1}e.find(".cj-post-timeline-ajax-btn").click(function(){var n=window.location.href,i=parseInt(e.find(".cj-post-timeline__container").attr("data-pageid"))+1;t.ajax({url:n+"/page/"+i+"/",type:"GET",beforeSend:function(){e.find(".cj-post-timeline-ajax-btn").prop("disabled",!0),e.find(".cj-post-timeline-ajax-btn").html(e.find(".cj-post-timeline-ajax-btn").data("loading"))},success:function(n){var o=t.parseHTML(n),s=t(o).find(".cj-post-timeline__container").data("ajaxid"),m=t(o).find(".cj-post-ajax-id-"+s);m.length?(e.find(".cj-post-timeline__container").attr("data-pageid",i),m.find(".cj-post-timeline__img").addClass("cj-post-timeline__img--hidden"),m.find(".cj-post-timeline__content").addClass("cj-post-timeline__content--hidden"),e.find(".cj-post-timeline-ajax-content").append(m.html()),e.find(".cj-post-timeline__container").data("pageid")>=e.find(".cj-post-timeline__container").data("maxpage")&&e.find(".cj-post-timeline-ajax-btn").hide()):e.find(".cj-post-timeline-ajax-btn").hide()},complete:function(){e.find(".cj-post-timeline-ajax-btn").prop("disabled",!1),e.find(".cj-post-timeline-ajax-btn").html(e.find(".cj-post-timeline-ajax-btn").data("loaded"))}})})})})}(jQuery);